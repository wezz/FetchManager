/*!
 * 
 *   @wezz/fetchmanager v0.0.2
 *   https://github.com/wezz/FetchManager
 *
 *   Copyright (c) Wezz Balk (https://github.com/wezz)
 *
 *   This source code is licensed under the MIT license found in the
 *   LICENSE file in the root directory of this source tree.
 *
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.fetchmanager=t():e.fetchmanager=t()}(self,(function(){return(()=>{var e={447:e=>{
/*!
 * 
 *   @wezz/store-manager v0.0.10
 *   https://github.com/wezz/StoreManager
 *
 *   Copyright (c) Wezz Balk (https://github.com/wezz)
 *
 *   This source code is licensed under the MIT license found in the
 *   LICENSE file in the root directory of this source tree.
 *
 */
self,e.exports=(()=>{"use strict";var e={346:(e,t)=>{var r=function(){function e(e){void 0===e&&(e="cache"),this.storageTypes={permanent:"localStorage",temporary:"sessionStorage"},this.prefix=e}return e.prototype.getStorageMedium=function(e){void 0===e&&(e=!0);var t=e?this.storageTypes.permanent:this.storageTypes.temporary;return void 0!==window[t]?window[t]:null},e.prototype.Has=function(e){return void 0!==this.Get(this.prefix+"-"+e)},e.prototype.Get=function(e){var t=this.getStorageMedium(!1),r=this.getStorageMedium(!0),o=!1,n=null;if(t&&r){try{n=t.getItem(this.prefix+"-"+e),o=null!==(n=this.toJSONIfJSON(n))}catch(e){}if(!o)try{n=r.getItem(this.prefix+"-"+e),o=null!==(n=this.toJSONIfJSON(n))}catch(e){}}return n},e.prototype.toJSONIfJSON=function(e){return"string"!=typeof e||0!==e.indexOf("{")&&0!==e.indexOf("[")||(e=JSON.parse(e)),e},e.prototype.Save=function(e,t,r){void 0===r&&(r=!0),console.warn("StoreManager.Save is deprecated"),this.Set(e,t,r)},e.prototype.Set=function(e,t,r){void 0===r&&(r=!0);var o=this.getStorageMedium(r),n=!1;if(o){"object"==typeof t&&(t=JSON.stringify(t));try{o.setItem(this.prefix+"-"+e,t),n=!0}catch(e){console.error("Unable to save object",e)}}return n},e.prototype.Remove=function(e){var t=this.getStorageMedium(!0),r=this.getStorageMedium(!1);t&&t.removeItem(this.prefix+"-"+e),r&&r.removeItem(this.prefix+"-"+e)},e}();t.Z=r},138:(e,t,r)=>{r.r(t),r.d(t,{default:()=>o});const o=r(346).Z}},t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={exports:{}};return e[o](n,n.exports,r),n.exports}return r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r(138)})()},24:function(e,t,r){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},n=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(n,i){function c(e){try{s(o.next(e))}catch(e){i(e)}}function a(e){try{s(o.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(c,a)}s((o=o.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,o,n,i,c={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,o&&(n=2&i[0]?o.return:i[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,i[1])).done)return n;switch(o=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,o=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(n=c.trys,(n=n.length>0&&n[n.length-1])||6!==i[0]&&2!==i[0])){c=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){c.label=i[1];break}if(6===i[0]&&c.label<n[1]){c.label=n[1],n=i;break}if(n&&c.label<n[2]){c.label=n[2],c.ops.push(i);break}n[2]&&c.ops.pop(),c.trys.pop();continue}i=t.call(e,c)}catch(e){i=[6,e],o=0}finally{r=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var c=new(r(447).default)("fetchmanager"),a=function(){function e(){this.moduleName="FetchManager",this.requests={},this.defaultFetchOptions={method:"GET",mode:"cors",headers:{"Content-Type":"application/json"}}}return e.prototype.ObjToQueryString=function(e){return"object"!=typeof e?"":Object.keys(e).map((function(t){if(Array.isArray(e[t])){for(var r=[],o=0;o<e[t].length;o++)r.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t][o]));return r.join("&")}return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")},e.prototype.Fetch=function(e){return n(this,void 0,void 0,(function(){var t,r,o,c=this;return i(this,(function(a){return e.url?(t=this.getKey(e),r=this.getRequestObj(t,e),o=this.parseFetchOptions(e),r.active&&e.url!==r.url&&void 0!==window.AbortController&&r.abortcontroller&&"function"==typeof r.abortcontroller.abort&&(r.abortcontroller.abort(),r.abortcontroller=new AbortController,r.active=!1),e.url!==r.url?(void 0!==r.abortcontroller&&r.abortcontroller&&void 0!==r.abortcontroller.signal&&(e.signal=r.abortcontroller.signal),r.url=this.CompileUrl(e),r.active=!0,r.promise=new Promise((function(t,a){return n(c,void 0,void 0,(function(){var c,s=this;return i(this,(function(u){return c="number"==typeof e.requestdelay?e.requestdelay:0,null!==r.delaytimer&&(window.clearTimeout(r.delaytimer),r.delaytimer=null),r.delaytimer=window.setTimeout((function(){return n(s,void 0,void 0,(function(){var e,n,c,s;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,6,,7]),e=!r.cache.usecache,n=null,r.cache.usecache&&null==(n=this.getResponseFromCache(r))&&(e=!0),e?[4,fetch(r.url,o)]:[3,2];case 1:n=i.sent(),i.label=2;case 2:return r.active=!1,e&&o.headers&&o.headers["Content-Type"]&&o.headers["Content-Type"].indexOf("json")?(c=r,[4,n.json()]):[3,4];case 3:return c.result=i.sent(),[3,5];case 4:r.result=n,i.label=5;case 5:return r.finished=!0,this.saveResponseToCache(r),t(r.result),[3,7];case 6:return s=i.sent(),r.active=!1,console.error(s),a(r),[3,7];case 7:return[2]}}))}))}),c),[2]}))}))})),[2,r.promise]):r.finished&&null!==r.result?[2,new Promise((function(e,t){return n(c,void 0,void 0,(function(){return i(this,(function(t){return e(r.result),[2]}))}))}))]:r.promise&&r.active?[2,r.promise]:[2,null]):(console.error("Need a url to do a request"),[2,null])}))}))},e.prototype.GetScript=function(e){return new Promise((function(t,r){var o=document.createElement("script");document.body.appendChild(o),o.onload=t,o.onerror=r,o.async=!0,o.src=e}))},e.prototype.CompileUrl=function(e){var t=e.url,r="string"==typeof e.querystring?e.querystring:this.ObjToQueryString(e.querystring);return t+=(-1===t.indexOf("?")?"?":"")+r},e.prototype.getRequestObj=function(e,t){return void 0===this.requests[e]&&(this.requests[e]={key:e,url:"",cache:this.getRequestCacheOptions(t),options:t,active:!1,finished:!1,result:null,promise:null,abortcontroller:"function"==typeof window.AbortController?new AbortController:null,delaytimer:null}),this.requests[e]},e.prototype.getResponseFromCache=function(e){var t=c.get(e.cache.cachekey);return this.validResponse(t)?t:null},e.prototype.validResponse=function(e){return null!=e&&("string"==typeof e||"object"==typeof e&&Object.keys(e).length>0||"object"==typeof e&&"number"==typeof e.length)},e.prototype.saveResponseToCache=function(e){if(!0!==e.cache.usecache||!e.result)return!1;if(!this.validResponse(e.result))return console.info("Result was not accepted so it is not saved to cache",e),!1;e.cache.iscached=!0;try{c.set(e.cache.cachekey,e.result,e.cache.pemanent)}catch(e){return console.error("Unable to save"),!1}},e.prototype.parseFetchOptions=function(e){var t=void 0!==e.fetchoptions?e.fetchoptions:{};return t=o(o({},this.defaultFetchOptions),t)},e.prototype.getRequestCacheOptions=function(e){return{pemanent:"object"==typeof e.cache&&"boolean"==typeof e.cache.pemanent&&!0===e.cache.pemanent,usecache:"boolean"==typeof e.cache?e.cache:"object"==typeof e.cache&&"boolean"==typeof e.cache.usecache&&!0===e.cache.usecache,cachekey:"object"==typeof e.cache&&"string"==typeof e.cache.cachekey&&0!==e.cache.cachekey.length?e.cache.cachekey:this.getCacheKey(e),iscached:!1}},e.prototype.getCacheKey=function(e){return this.getKey(e)+this.CompileUrl(e)},e.prototype.getKey=function(e){return e.key?e.key:this.KeyFromOptions(e)},e.prototype.KeyFromOptions=function(e){var t=this.CompileUrl(e);return t.substring(0,t.indexOf("?")>0?t.indexOf("?"):t.length)},e}();t.default=a},138:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var o=r(24);const n=r.n(o)()}},t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={exports:{}};return e[o].call(n.exports,n,n.exports,r),n.exports}return r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r(138)})()}));
//# sourceMappingURL=index.js.map