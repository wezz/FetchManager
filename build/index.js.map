{"version":3,"file":"index.js","mappings":"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","sources":["webpack://fetchmanager/webpack/universalModuleDefinition","webpack://fetchmanager/./node_modules/@wezz/store-manager/build/StoreManager.ts","webpack://fetchmanager/./src/FetchManager.ts","webpack://fetchmanager/webpack/bootstrap","webpack://fetchmanager/webpack/runtime/compat get default export","webpack://fetchmanager/webpack/runtime/define property getters","webpack://fetchmanager/webpack/runtime/hasOwnProperty shorthand","webpack://fetchmanager/webpack/runtime/make namespace object","webpack://fetchmanager/./src/index.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"fetchmanager\"] = factory();\n\telse\n\t\troot[\"fetchmanager\"] = factory();\n})(typeof global !== 'undefined' ? global : this, () => {\nreturn ","/* # Storage Manager\n\nThis will gelp you fetch information from session and local storage.\n\n## Usage\nimport StoreManager from '../modules/StoreManager';\nconst storage = new StoreManager(\"storename\");\nlet valueobj = storage.Get(\"valuekey\"); // Will return a JSOn object if possible\n\nvalueobj.prop = \"updatedprop\";\nstorage.Save(\"valuekey\", valueobj, true); \n\nThe last boolean defines if the values should be stored past the current session\n\n*/\n\n\"use strict\";\nexport default class StoreManager {\n  private prefix: string;\n  constructor(_prefix: string = \"cache\") {\n    this.prefix = _prefix;\n  }\n\n  private storageTypes = {\n    permanent: \"localStorage\",\n    temporary: \"sessionStorage\",\n  };\n\n  private getStorageMedium(permanent: boolean = true) {\n    const storageType = permanent\n      ? this.storageTypes.permanent\n      : this.storageTypes.temporary;\n    if (typeof window[storageType] !== \"undefined\") {\n      return window[storageType];\n    }\n    return null;\n  }\n  public Has(key: string) {\n    return typeof this.Get(`${this.prefix}-${key}`) !== \"undefined\";\n  }\n  public Get(key: string) {\n    const tempStorage = this.getStorageMedium(false);\n    const permStorage = this.getStorageMedium(true);\n    let success = false;\n    let data = null;\n    if (tempStorage && permStorage) {\n      try {\n        data = tempStorage.getItem(`${this.prefix}-${key}`);\n        data = this.toJSONIfJSON(data);\n\n        success = data !== null;\n      } catch (e) {}\n      if (!success) {\n        try {\n          data = permStorage.getItem(`${this.prefix}-${key}`);\n          data = this.toJSONIfJSON(data);\n          success = data !== null;\n        } catch (e) {}\n      }\n    }\n    return data;\n  }\n\n  private toJSONIfJSON(data) {\n    if (\n      typeof data === \"string\" &&\n      (data.indexOf(\"{\") === 0 || data.indexOf(\"[\") === 0)\n    ) {\n      data = JSON.parse(data);\n    }\n    return data;\n  }\n  public Save(key: string, data: any, permanent = true) {\n    console.warn(\"StoreManager.Save is deprecated\");\n    this.Set(key, data, permanent);\n  }\n  public Set(key: string, data: any, permanent = true) {\n    const storage = this.getStorageMedium(permanent);\n    let success = false;\n    if (storage) {\n      if (typeof data === \"object\") {\n        data = JSON.stringify(data);\n      }\n      try {\n        storage.setItem(`${this.prefix}-${key}`, data);\n        success = true;\n      } catch (e) {\n        console.error(\"Unable to save object\", e);\n      }\n    }\n    return success;\n  }\n  public Remove(key: string) {\n    const permanentStore = this.getStorageMedium(true);\n    const sessionStorage = this.getStorageMedium(false);\n    if (permanentStore) {\n      permanentStore.removeItem(`${this.prefix}-${key}`);\n    }\n    if (sessionStorage) {\n      sessionStorage.removeItem(`${this.prefix}-${key}`);\n    }\n  }\n}\n\nexport interface StoreManagerClass {\n  constructor(_prefix?: string);\n  Get(key: string): any;\n  Has(key: string): boolean;\n  Save(key: string, data: any, permanent?: boolean): boolean;\n  Set(key: string, data: any, permanent?: boolean): boolean;\n  Remove(key: string): void;\n}\n","/// jshint funcscope: true\n/*\nfetchManager\n.Fetch(\n{\n\t'key': 'uniquerequestkey',\n\t'url': this.options.ApiUrl + '/getformsettings',\n\t\"querystring\": {\n\t\tlanguage: this.global.currentlanguage\n\t},\n\t'requestdelay': 0\n})\n.then((response) =>\n{\n\tif (response)\n\t{\n\t}\n});\n*/\nimport StorageManager from \"@wezz/store-manager/build/StoreManager\";\n//import StorageManager from \"../../StoreManager/build/StoreManager\";\nconst storageManager = new StorageManager(\"fetchmanager\");\nimport { IFetchManagerRequestObject, IFetchManagerOption, IFetchManagerCacheOption } from \"./FetchManagerTypes\";\n(\"use strict\");\nexport default class FetchManager {\n  public moduleName = \"FetchManager\";\n  private requests = {};\n  private defaultFetchOptions: RequestInit = {\n    method: \"GET\", // *GET, POST, PUT, DELETE, etc.\n    mode: \"cors\", // no-cors, cors, *same-origin\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  };\n  constructor() {}\n\n  public ObjToQueryString(params : Object) {\n    if (typeof params !== \"object\") {\n      return \"\";\n    }\n    return Object.keys(params)\n      .map((key) => {\n        if (Array.isArray(params[key])) {\n          var splitParams = [];\n          for (var i = 0; i < params[key].length; i++) {\n            splitParams.push(\n              `${encodeURIComponent(key)}=${encodeURIComponent(params[key][i])}`\n            );\n          }\n          return splitParams.join(\"&\");\n        }\n        return encodeURIComponent(key) + \"=\" + encodeURIComponent(params[key]);\n      })\n      .join(\"&\");\n  }\n\n  public async Fetch(options: IFetchManagerOption) {\n    if (!options.url) {\n      console.error(\"Need a url to do a request\");\n      return null;\n    }\n    const key = this.getKey(options);\n    const reqobj = this.getRequestObj(key, options);\n    let fetchoptions = this.parseFetchOptions(options);\n\n    if (reqobj.active) {\n      if (options.url !== reqobj.url) {\n        if (\n          typeof window[\"AbortController\"] !== \"undefined\" &&\n          reqobj[\"abortcontroller\"] &&\n          typeof reqobj[\"abortcontroller\"][\"abort\"] === \"function\"\n        ) {\n          // console.info('Request was aborted', reqobj);\n          reqobj[\"abortcontroller\"].abort();\n          reqobj[\"abortcontroller\"] = new AbortController();\n          reqobj.active = false;\n        } else {\n          // console.warn('Browser doesn\\'t support abort controller');\n        }\n      }\n    }\n    if (options.url !== reqobj.url) {\n      if (\n        typeof reqobj[\"abortcontroller\"] !== \"undefined\" &&\n        reqobj[\"abortcontroller\"] &&\n        typeof reqobj[\"abortcontroller\"][\"signal\"] !== \"undefined\"\n      ) {\n        options[\"signal\"] = reqobj[\"abortcontroller\"][\"signal\"];\n      }\n      reqobj.url = this.CompileUrl(options);\n      reqobj.active = true;\n      reqobj.promise = new Promise(async (resolve, reject) => {\n        const delay =\n          typeof options.requestdelay === \"number\" ? options.requestdelay : 0;\n        if (reqobj.delaytimer !== null) {\n          window.clearTimeout(reqobj.delaytimer);\n          reqobj.delaytimer = null;\n        }\n        reqobj.delaytimer = window.setTimeout(async () => {\n          try {\n            let doFetchRequest = !reqobj.cache.usecache;\n            let response = null;\n            if (reqobj.cache.usecache) {\n              response = this.getResponseFromCache(reqobj);\n              if (response == null) {\n                doFetchRequest = true;\n              }\n            }\n            if (doFetchRequest) {\n              response = await fetch(reqobj.url, fetchoptions);\n            }\n            reqobj.active = false;\n            if (\n              doFetchRequest &&\n              fetchoptions[\"headers\"] &&\n              fetchoptions[\"headers\"][\"Content-Type\"] &&\n              fetchoptions[\"headers\"][\"Content-Type\"].indexOf(\"json\")\n            ) {\n              reqobj.result = await response.json();\n            } else {\n              reqobj.result = response;\n            }\n            reqobj.finished = true;\n\n            const savedToCache = this.saveResponseToCache(reqobj);\n\n            resolve(reqobj.result);\n          } catch (err) {\n            reqobj.active = false;\n\n            console.error(err);\n            reject(reqobj);\n          }\n        }, delay);\n      });\n      return reqobj.promise;\n    } else if (reqobj.finished && reqobj.result !== null) {\n      return new Promise(async (resolve, reject) => {\n        resolve(reqobj.result);\n      });\n    } else if (reqobj[\"promise\"] && reqobj.active) {\n      return reqobj[\"promise\"];\n    }\n    return null;\n  }\n\n  public GetScript(url: string) {\n    const getScriptPromise = new Promise((resolve, reject) => {\n      const script = document.createElement(\"script\");\n      document.body.appendChild(script);\n      script.onload = resolve;\n      script.onerror = reject;\n      script.async = true;\n      script.src = url;\n    });\n    return getScriptPromise;\n  }\n\n  public CompileUrl(options: IFetchManagerOption) {\n    let url = options.url;\n    const querystring =\n      typeof options.querystring === \"string\"\n        ? options.querystring\n        : this.ObjToQueryString(options.querystring);\n    url += (url.indexOf(\"?\") === -1 ? \"?\" : \"\") + querystring;\n    return url;\n  }\n\n  private getRequestObj(key: string, options: IFetchManagerOption) {\n    if (typeof this.requests[key] === \"undefined\") {\n      this.requests[key] = {\n        key: key,\n        url: \"\",\n        cache: this.getRequestCacheOptions(options),\n        options: options,\n        active: false,\n        finished: false,\n        result: null,\n        promise: null,\n        abortcontroller:\n          typeof window[\"AbortController\"] === \"function\"\n            ? new AbortController()\n            : null,\n        delaytimer: null,\n      } as IFetchManagerRequestObject;\n    }\n    return this.requests[key] as IFetchManagerRequestObject;\n  }\n\n  private getResponseFromCache(reqobj: IFetchManagerRequestObject) {\n    const storedResponse = storageManager.Get(reqobj.cache.cachekey);\n    let goodResult = this.validResponse(storedResponse);\n    if (!goodResult) {\n      return null;\n    }\n    return storedResponse;\n  }\n\n  private validResponse(result: any) {\n    const isValidResult =\n      result != null &&\n      (typeof result === \"string\" ||\n        (typeof result === \"object\" && Object.keys(result).length > 0) ||\n        (typeof result === \"object\" && typeof result.length === \"number\"));\n    return isValidResult;\n  }\n  private saveResponseToCache(reqobj: IFetchManagerRequestObject) {\n    if (reqobj.cache.usecache !== true || !reqobj.result) {\n      return false;\n    }\n    let goodResult = this.validResponse(reqobj.result);\n    if (!goodResult) {\n      console.info(\n        \"Result was not accepted so it is not saved to cache\",\n        reqobj\n      );\n      return false;\n    }\n    reqobj.cache.iscached = true;\n    try {\n      storageManager.Set(\n        reqobj.cache.cachekey,\n        reqobj.result,\n        reqobj.cache.pemanent\n      );\n    } catch {\n      console.error(\"Unable to save\");\n      return false;\n    }\n  }\n\n  private parseFetchOptions(options: IFetchManagerOption) {\n    let fetchoptions =\n      typeof options[\"fetchoptions\"] !== \"undefined\"\n        ? options[\"fetchoptions\"]\n        : {};\n    fetchoptions = { ...this.defaultFetchOptions, ...fetchoptions };\n    return fetchoptions;\n  }\n  private getRequestCacheOptions(options: IFetchManagerOption) {\n    const cacheOptions = {\n      pemanent:\n        typeof options.cache === \"object\" &&\n        typeof options.cache.pemanent === \"boolean\" &&\n        options.cache.pemanent === true,\n      usecache:\n        typeof options.cache === \"boolean\"\n          ? options.cache\n          : typeof options.cache === \"object\" &&\n            typeof options.cache.usecache === \"boolean\" &&\n            options.cache.usecache === true,\n      cachekey:\n        typeof options.cache === \"object\" &&\n        typeof options.cache.cachekey === \"string\" &&\n        options.cache.cachekey.length !== 0\n          ? options.cache.cachekey\n          : this.getCacheKey(options),\n      iscached: false,\n    } as IFetchManagerCacheOption;\n    return cacheOptions as IFetchManagerCacheOption;\n  }\n  private getCacheKey(options: IFetchManagerOption) {\n    const reqkey = this.getKey(options);\n    const cacheKey = reqkey + this.CompileUrl(options);\n    return cacheKey;\n  }\n  private getKey(options: IFetchManagerOption) {\n    return options[\"key\"] ? options[\"key\"] : this.KeyFromOptions(options);\n  }\n  public KeyFromOptions(options: IFetchManagerOption) {\n    const url = this.CompileUrl(options);\n    return url.substring(\n      0,\n      url.indexOf(\"?\") > 0 ? url.indexOf(\"?\") : url.length\n    );\n  }\n}\n\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import FetchManager from \"./FetchManager.ts\";\nexport default FetchManager;\n"],"names":[],"sourceRoot":""}