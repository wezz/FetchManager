{"version":3,"sources":["webpack://fetchmanager/webpack/universalModuleDefinition","webpack://fetchmanager/./node_modules/@wezz/store-manager/build/index.js","webpack://fetchmanager/./src/FetchManager.ts","webpack://fetchmanager/./src/index.js","webpack://fetchmanager/webpack/bootstrap","webpack://fetchmanager/webpack/startup","webpack://fetchmanager/webpack/runtime/compat get default export","webpack://fetchmanager/webpack/runtime/define property getters","webpack://fetchmanager/webpack/runtime/hasOwnProperty shorthand","webpack://fetchmanager/webpack/runtime/make namespace object"],"names":["root","factory","exports","module","define","amd","self","e","346","t","o","this","storageTypes","permanent","temporary","prefix","prototype","getStorageMedium","window","Has","Get","r","i","getItem","toJSONIfJSON","indexOf","JSON","parse","Save","console","warn","Set","stringify","setItem","error","Remove","removeItem","Z","138","d","default","Object","defineProperty","enumerable","get","hasOwnProperty","call","Symbol","toStringTag","value","storageManager","moduleName","requests","defaultFetchOptions","method","mode","headers","ObjToQueryString","params","keys","map","key","Array","isArray","splitParams","length","push","encodeURIComponent","join","Fetch","options","url","getKey","reqobj","getRequestObj","fetchoptions","parseFetchOptions","active","abort","AbortController","CompileUrl","promise","Promise","resolve","reject","delay","requestdelay","delaytimer","clearTimeout","setTimeout","doFetchRequest","cache","usecache","response","getResponseFromCache","fetch","json","result","finished","saveResponseToCache","GetScript","script","document","createElement","body","appendChild","onload","onerror","async","src","querystring","getRequestCacheOptions","abortcontroller","storedResponse","cachekey","validResponse","info","iscached","set","pemanent","getCacheKey","KeyFromOptions","substring","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","n","getter","__esModule","a","definition","obj","prop"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"fetchmanager\"] = factory();\n\telse\n\t\troot[\"fetchmanager\"] = factory();\n})(self, function() {\nreturn ","/*!\n * \n *   @wezz/store-manager v0.0.10\n *   https://github.com/wezz/StoreManager\n *\n *   Copyright (c) Wezz Balk (https://github.com/wezz)\n *\n *   This source code is licensed under the MIT license found in the\n *   LICENSE file in the root directory of this source tree.\n *\n */\n!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.StoreManager=t():e.StoreManager=t()}(self,(function(){return(()=>{\"use strict\";var e={346:(e,t)=>{var o=function(){function e(e){void 0===e&&(e=\"cache\"),this.storageTypes={permanent:\"localStorage\",temporary:\"sessionStorage\"},this.prefix=e}return e.prototype.getStorageMedium=function(e){void 0===e&&(e=!0);var t=e?this.storageTypes.permanent:this.storageTypes.temporary;return void 0!==window[t]?window[t]:null},e.prototype.Has=function(e){return void 0!==this.Get(this.prefix+\"-\"+e)},e.prototype.Get=function(e){var t=this.getStorageMedium(!1),o=this.getStorageMedium(!0),r=!1,i=null;if(t&&o){try{i=t.getItem(this.prefix+\"-\"+e),r=null!==(i=this.toJSONIfJSON(i))}catch(e){}if(!r)try{i=o.getItem(this.prefix+\"-\"+e),r=null!==(i=this.toJSONIfJSON(i))}catch(e){}}return i},e.prototype.toJSONIfJSON=function(e){return\"string\"!=typeof e||0!==e.indexOf(\"{\")&&0!==e.indexOf(\"[\")||(e=JSON.parse(e)),e},e.prototype.Save=function(e,t,o){void 0===o&&(o=!0),console.warn(\"StoreManager.Save is deprecated\"),this.Set(e,t,o)},e.prototype.Set=function(e,t,o){void 0===o&&(o=!0);var r=this.getStorageMedium(o),i=!1;if(r){\"object\"==typeof t&&(t=JSON.stringify(t));try{r.setItem(this.prefix+\"-\"+e,t),i=!0}catch(e){console.error(\"Unable to save object\",e)}}return i},e.prototype.Remove=function(e){var t=this.getStorageMedium(!0),o=this.getStorageMedium(!1);t&&t.removeItem(this.prefix+\"-\"+e),o&&o.removeItem(this.prefix+\"-\"+e)},e}();t.Z=o},138:(e,t,o)=>{o.r(t),o.d(t,{default:()=>r});const r=o(346).Z}},t={};function o(r){if(t[r])return t[r].exports;var i=t[r]={exports:{}};return e[r](i,i.exports,o),i.exports}return o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},o(138)})()}));\n//# sourceMappingURL=index.js.map","/// jshint funcscope: true\n/*\nfetchManager\n.Fetch(\n{\n\t'key': 'uniquerequestkey',\n\t'url': this.options.ApiUrl + '/getformsettings',\n\t\"querystring\": {\n\t\tlanguage: this.global.currentlanguage\n\t},\n\t'requestdelay': 0\n})\n.then((response) =>\n{\n\tif (response)\n\t{\n\t}\n});\n*/\nimport StorageManager from \"@wezz/store-manager\";\nconst storageManager = new StorageManager(\"fetchmanager\");\n(\"use strict\");\nexport default class FetchManager {\n  public moduleName = \"FetchManager\";\n  private requests = {};\n  private defaultFetchOptions: RequestInit = {\n    method: \"GET\", // *GET, POST, PUT, DELETE, etc.\n    mode: \"cors\", // no-cors, cors, *same-origin\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  };\n  constructor() {}\n\n  public ObjToQueryString(params) {\n    if (typeof params !== \"object\") {\n      return \"\";\n    }\n    return Object.keys(params)\n      .map((key) => {\n        if (Array.isArray(params[key])) {\n          var splitParams = [];\n          for (var i = 0; i < params[key].length; i++) {\n            splitParams.push(\n              `${encodeURIComponent(key)}=${encodeURIComponent(params[key][i])}`\n            );\n          }\n          return splitParams.join(\"&\");\n        }\n        return encodeURIComponent(key) + \"=\" + encodeURIComponent(params[key]);\n      })\n      .join(\"&\");\n  }\n\n  public async Fetch(options: IFetchManagerOption) {\n    if (!options.url) {\n      console.error(\"Need a url to do a request\");\n      return null;\n    }\n    const key = this.getKey(options);\n    const reqobj = this.getRequestObj(key, options);\n    let fetchoptions = this.parseFetchOptions(options);\n\n    if (reqobj.active) {\n      if (options.url !== reqobj.url) {\n        if (\n          typeof window[\"AbortController\"] !== \"undefined\" &&\n          reqobj[\"abortcontroller\"] &&\n          typeof reqobj[\"abortcontroller\"][\"abort\"] === \"function\"\n        ) {\n          // console.info('Request was aborted', reqobj);\n          reqobj[\"abortcontroller\"].abort();\n          reqobj[\"abortcontroller\"] = new AbortController();\n          reqobj.active = false;\n        } else {\n          // console.warn('Browser doesn\\'t support abort controller');\n        }\n      }\n    }\n    if (options.url !== reqobj.url) {\n      if (\n        typeof reqobj[\"abortcontroller\"] !== \"undefined\" &&\n        reqobj[\"abortcontroller\"] &&\n        typeof reqobj[\"abortcontroller\"][\"signal\"] !== \"undefined\"\n      ) {\n        options[\"signal\"] = reqobj[\"abortcontroller\"][\"signal\"];\n      }\n      reqobj.url = this.CompileUrl(options);\n      reqobj.active = true;\n      reqobj.promise = new Promise(async (resolve, reject) => {\n        const delay =\n          typeof options.requestdelay === \"number\" ? options.requestdelay : 0;\n        if (reqobj.delaytimer !== null) {\n          window.clearTimeout(reqobj.delaytimer);\n          reqobj.delaytimer = null;\n        }\n        reqobj.delaytimer = window.setTimeout(async () => {\n          try {\n            let doFetchRequest = !reqobj.cache.usecache;\n            let response = null;\n            if (reqobj.cache.usecache) {\n              response = this.getResponseFromCache(reqobj);\n              if (response == null) {\n                doFetchRequest = true;\n              }\n            }\n            if (doFetchRequest) {\n              response = await fetch(reqobj.url, fetchoptions);\n            }\n            reqobj.active = false;\n            if (\n              doFetchRequest &&\n              fetchoptions[\"headers\"] &&\n              fetchoptions[\"headers\"][\"Content-Type\"] &&\n              fetchoptions[\"headers\"][\"Content-Type\"].indexOf(\"json\")\n            ) {\n              reqobj.result = await response.json();\n            } else {\n              reqobj.result = response;\n            }\n            reqobj.finished = true;\n\n            const savedToCache = this.saveResponseToCache(reqobj);\n\n            resolve(reqobj.result);\n          } catch (err) {\n            reqobj.active = false;\n\n            console.error(err);\n            reject(reqobj);\n          }\n        }, delay);\n      });\n      return reqobj.promise;\n    } else if (reqobj.finished && reqobj.result !== null) {\n      return new Promise(async (resolve, reject) => {\n        resolve(reqobj.result);\n      });\n    } else if (reqobj[\"promise\"] && reqobj.active) {\n      return reqobj[\"promise\"];\n    }\n    return null;\n  }\n\n  public GetScript(url: string) {\n    const getScriptPromise = new Promise((resolve, reject) => {\n      const script = document.createElement(\"script\");\n      document.body.appendChild(script);\n      script.onload = resolve;\n      script.onerror = reject;\n      script.async = true;\n      script.src = url;\n    });\n    return getScriptPromise;\n  }\n\n  public CompileUrl(options: IFetchManagerOption) {\n    let url = options.url;\n    const querystring =\n      typeof options.querystring === \"string\"\n        ? options.querystring\n        : this.ObjToQueryString(options.querystring);\n    url += (url.indexOf(\"?\") === -1 ? \"?\" : \"\") + querystring;\n    return url;\n  }\n\n  private getRequestObj(key: string, options: IFetchManagerOption) {\n    if (typeof this.requests[key] === \"undefined\") {\n      this.requests[key] = {\n        key: key,\n        url: \"\",\n        cache: this.getRequestCacheOptions(options),\n        options: options,\n        active: false,\n        finished: false,\n        result: null,\n        promise: null,\n        abortcontroller:\n          typeof window[\"AbortController\"] === \"function\"\n            ? new AbortController()\n            : null,\n        delaytimer: null,\n      } as IFetchManagerRequestObject;\n    }\n    return this.requests[key] as IFetchManagerRequestObject;\n  }\n\n  private getResponseFromCache(reqobj: IFetchManagerRequestObject) {\n    const storedResponse = storageManager.get(reqobj.cache.cachekey);\n    let goodResult = this.validResponse(storedResponse);\n    if (!goodResult) {\n      return null;\n    }\n    return storedResponse;\n  }\n\n  private validResponse(result: any) {\n    const isValidResult =\n      result != null &&\n      (typeof result === \"string\" ||\n        (typeof result === \"object\" && Object.keys(result).length > 0) ||\n        (typeof result === \"object\" && typeof result.length === \"number\"));\n    return isValidResult;\n  }\n  private saveResponseToCache(reqobj: IFetchManagerRequestObject) {\n    if (reqobj.cache.usecache !== true || !reqobj.result) {\n      return false;\n    }\n    let goodResult = this.validResponse(reqobj.result);\n    if (!goodResult) {\n      console.info(\n        \"Result was not accepted so it is not saved to cache\",\n        reqobj\n      );\n      return false;\n    }\n    reqobj.cache.iscached = true;\n    try {\n      storageManager.set(\n        reqobj.cache.cachekey,\n        reqobj.result,\n        reqobj.cache.pemanent\n      );\n    } catch {\n      console.error(\"Unable to save\");\n      return false;\n    }\n  }\n\n  private parseFetchOptions(options: IFetchManagerOption) {\n    let fetchoptions =\n      typeof options[\"fetchoptions\"] !== \"undefined\"\n        ? options[\"fetchoptions\"]\n        : {};\n    fetchoptions = { ...this.defaultFetchOptions, ...fetchoptions };\n    return fetchoptions;\n  }\n  private getRequestCacheOptions(options: IFetchManagerOption) {\n    const cacheOptions = {\n      pemanent:\n        typeof options.cache === \"object\" &&\n        typeof options.cache.pemanent === \"boolean\" &&\n        options.cache.pemanent === true,\n      usecache:\n        typeof options.cache === \"boolean\"\n          ? options.cache\n          : typeof options.cache === \"object\" &&\n            typeof options.cache.usecache === \"boolean\" &&\n            options.cache.usecache === true,\n      cachekey:\n        typeof options.cache === \"object\" &&\n        typeof options.cache.cachekey === \"string\" &&\n        options.cache.cachekey.length !== 0\n          ? options.cache.cachekey\n          : this.getCacheKey(options),\n      iscached: false,\n    } as IFetchManagerCacheOption;\n    return cacheOptions as IFetchManagerCacheOption;\n  }\n  private getCacheKey(options: IFetchManagerOption) {\n    const reqkey = this.getKey(options);\n    const cacheKey = reqkey + this.CompileUrl(options);\n    return cacheKey;\n  }\n  private getKey(options: IFetchManagerOption) {\n    return options[\"key\"] ? options[\"key\"] : this.KeyFromOptions(options);\n  }\n  public KeyFromOptions(options: IFetchManagerOption) {\n    const url = this.CompileUrl(options);\n    return url.substring(\n      0,\n      url.indexOf(\"?\") > 0 ? url.indexOf(\"?\") : url.length\n    );\n  }\n}\n\ninterface IFetchManagerRequestObject {\n  key: string;\n  url: string;\n  options: IFetchManagerOption;\n  active: boolean;\n  finished?: boolean;\n  cache: IFetchManagerCacheOption;\n  result?: any;\n  promise?: any;\n  abortcontroller?: any;\n  delaytimer?: number | null;\n}\n\ninterface IFetchManagerOption {\n  key?: string;\n  url: string;\n  querystring?: object | string;\n  requestdelay?: number;\n  cache?: boolean | IFetchManagerCacheOption;\n  fetchoptions?: RequestInit;\n}\n\ninterface IFetchManagerCacheOption {\n  usecache: boolean;\n  pemanent: boolean;\n  cachekey: string;\n  iscached?: boolean;\n}\n","import FetchManager from \"./FetchManager.ts\";\nexport default FetchManager;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// module exports must be returned from runtime so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __webpack_require__(138);\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => module['default'] :\n\t\t() => module;\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};"],"sourceRoot":""}